body {
    background-color: #141414;
    color: #eee;
    font-family: 'Segoe UI', sans-serif;
    margin: 0;
    overflow: hidden; /* Empêche le scroll de la page entière */
}
.hidden { display: none !important; }

/* --- MENU --- */
#menu-view {
    height: 100vh;
    overflow-y: auto;
    background: radial-gradient(circle at center, #2a2a2a 0%, #141414 100%);
    padding: 40px;
    text-align: center;
}
.menu-header h1 { font-size: 40px; font-weight: 900; letter-spacing: 5px; color: white; margin-bottom: 40px; }

.maps-grid {
    display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 30px; max-width: 1200px; margin: 0 auto;
}
.map-card {
    height: 350px; background-color: #1e1e1e; border: 1px solid #333; border-radius: 10px;
    cursor: pointer; transition: 0.2s; overflow: hidden; position: relative;
    box-shadow: 0 10px 20px rgba(0,0,0,0.5);
}
.map-card:hover { transform: translateY(-5px); border-color: #de9b35; }
.card-img { width: 100%; height: 250px; background-size: cover; background-position: center; }
.card-info { padding: 20px; }
.map-name { font-size: 24px; font-weight: 900; color: #ccc; }
.map-card:hover .map-name { color: white; }

/* --- CARTE & TOOLBAR --- */
.toolbar {
    display: flex; align-items: center; padding: 15px 30px;
    background: #1b1b1b; border-bottom: 1px solid #333; z-index: 10; position: relative;
}
.btn-tool {
    background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
    color: #ccc; padding: 8px 15px; border-radius: 4px; cursor: pointer; font-weight: bold; margin-right: 10px;
}
.btn-tool:hover { background: rgba(255,255,255,0.15); color: white; }
#current-map-title { margin-left: 20px; color: white; font-weight: 900; letter-spacing: 2px; }
.spacer { flex: 1; }

.switch-container {
    background: #111; border: 1px solid #333; border-radius: 4px; display: flex; align-items: center;
}
.switch-container button {
    background: none; border: none; color: #555; font-weight: 900; padding: 8px 15px; cursor: pointer; font-size: 16px;
}
.sep { color: #333; }
#btn-t.active { color: #de9b35; }
#btn-ct.active { color: #00BFFF; }

/* --- ZONE DE ZOOM --- */
.map-viewport {
    width: 100%; height: calc(100vh - 75px);
    background: #0e0e0e; overflow: hidden; position: relative;
    display: flex; justify-content: center; align-items: center;
}
.zoom-hint {
    position: absolute; bottom: 10px; width: 100%; text-align: center;
    color: #555; font-size: 12px; pointer-events: none; z-index: 5;
}

/* Le conteneur qu'on va zoomer/déplacer */
#zoom-container {
    transform-origin: center center;
    transition: transform 0.1s ease-out;
    cursor: grab;
}
#zoom-container:active { cursor: grabbing; }

#map-wrapper {
    position: relative; width: 800px; height: 550px; /* Taille fixe de référence */
}
#radar-img { width: 100%; height: 100%; object-fit: contain; }

/* CALQUES */
#lines-layer {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none; z-index: 1;
}
line { stroke: rgba(255,255,255,0.5); stroke-width: 2; stroke-dasharray: 5,5; }

#points-layer {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 2;
}

.point {
    position: absolute; transform: translate(-50%, -50%);
    display: flex; justify-content: center; align-items: center;
    font-weight: 900; font-size: 12px; color: black;
    border: 2px solid white; border-radius: 50%; cursor: pointer;
    box-shadow: 0 0 5px black; transition: 0.2s;
}
.point:hover { transform: translate(-50%, -50%) scale(1.3); z-index: 100; border-color: #de9b35; }

/* --- POPUP --- */
.modal {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.9); z-index: 200;
    display: flex; justify-content: center; align-items: center;
}
.modal-content {
    background: #1b1b1b; border: 1px solid #444; border-radius: 10px;
    padding: 20px; width: 90%; max-width: 1000px; position: relative;
}
.close-btn {
    position: absolute; right: 20px; top: 10px; font-size: 30px; cursor: pointer; color: #aaa;
}
.modal-header { text-align: center; margin-bottom: 20px; border-bottom: 2px solid #de9b35; padding-bottom: 10px; }
#modal-title { color: #de9b35; font-size: 32px; margin: 0; font-weight: 900; }
#modal-type { color: #ccc; margin: 5px 0 0 0; font-size: 18px; text-transform: uppercase; }

.photos-container { display: flex; gap: 20px; flex-wrap: wrap; }
.photo-box { flex: 1; min-width: 300px; }
.photo-box p { text-align: center; color: #888; font-weight: bold; margin-bottom: 5px; }
.img-frame { background: black; border: 1px solid #333; display: flex; justify-content: center; align-items: center; min-height: 200px; }
.img-frame img { max-width: 100%; max-height: 500px; object-fit: contain; }